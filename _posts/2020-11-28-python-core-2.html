---
layout: post
title:  "第3章 变量与运算符"
keywords: "python,组"
description: "变量的意义与七种运算符：算术运算符、赋值运算符、比较（关系）运算符、逻辑运算符、成员运算符、身份运算符、位运算符。"
date: 2020-11-28
category: python
---

<p>在Python中变量就是“名字”。命名可读性要强！</p>
<p>七种运算符：算术运算符、赋值运算符、比较（关系）运算符、逻辑运算符、成员运算符、身份运算符、位运算符。</p>


<h2>1、变量</h2>
<p>变量就是名字。</p>

<p>变量的命名规则：字母、数字、下划线。区分大小写。数字不能打头。系统关键字（保留关键字）不能用作变量名。</p>
<p><pre><code>
>>> a = 1
>>> b = a
>>> a = 3
>>> print(b)
1
>>> a = [1,2,3,4,5]
>>> b = a
>>> a[0] = '1'
>>> print(a)
['1', 2, 3, 4, 5]
>>> print(b)
['1', 2, 3, 4, 5]
</code></pre></p>

<h2>2、值类型与引用类型</h2>
<p>int str tuple<strong>（不可改变）</strong> 值类型。</p>
<p>list set dict<strong>（可变）</strong> 引用类型。</p>

<p><pre><code>>>> b = 'hello'
>>> id(b)
2588965129392
>>> b = b + ' python'
>>> id(b)
2588964835632
>>> print(b)
hello python
>>> 'python'[0]
'p'
>>> 'python'[0] = 'h'
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
</code></pre></p>

<h2>3、列表list的可变与元组tuple的不可变</h2>
<p><pre><code>>>> a = [1,2,3]
>>> id(a)
2588964835072
>>> hex(id(a))
'0x25aca544f00'
>>> a[0] = '1'
>>> id(a)
2588964835072
>>> a = (1,2,3)
>>> a[0] = '1'
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'tuple' object does not support item assignment
>>> b = [1,2,3]
>>> b.append(4)
>>> print(b)
[1, 2, 3, 4]
>>> c = (1,2,3)
>>> c.append(4)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'tuple' object has no attribute 'append'</code></pre></p>

<p><pre><code>>>> a = (1,2,3,[1,2,4])
>>> a[2]
3
>>> a[3]
[1, 2, 4]
>>> a[3][2]
4
>>> a[2] = '3'
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'tuple' object does not support item assignment
>>> a[3][2] = '4'
>>> print(a)
(1, 2, 3, [1, 2, '4'])</code></pre></p>

<h2>4、运算符</h2>

<h3>算术运算符</h3>
<p>=、-、*、\、\\整除、%取模、**n次方</p>
<p><pre><code>>>> 1+1
2
>>> 'hello' + 'world'
'helloworld'
>>> 3-1
2
>>> 3/2
1.5
>>> [1,3,5]*3
[1, 3, 5, 1, 3, 5, 1, 3, 5]
>>> 3//2
1
>>> 5%2
1
>>> 2**2
4
>>> 2**3
8</code></pre></p>

<h3>赋值运算符</h3>
<p>=、+=、-=、*=、/=、%/、**=、//=。就是在算术运算符上加‘=’号，先做运算，再赋值。重点是‘赋值’。</p>
<p><pre><code>
>>> c = 1
>>> c = c + 1
>>> print(c)
2
>>> c += 1
>>> print(c)
3
>>> c++
SyntaxError: invalid syntax
>>> c--
SyntaxError: invalid syntax
>>> b = 2
>>> a = 3
>>> b += a
>>> print(b)
5
>>> b -= a
>>> print(b)
2
>>> b *= a
>>> print(b)
6	
</code></pre></p>
<pre><code>
>>> b = 2
>>> a = 1
>>> a + b
3
>>> print(a)
1
>>> print(b)
2
>>> b = b + a
>>> print(b)
3
</code></pre>


<h3>比较（关系）运算符</h3>
<p>==、>=、&lt;=、!=、&lt;、>。比较的结果是个bool值。</p>

<p>不只是只有数字才能做比较运算。</p>
<p><pre><code>>>> 1 == 1
True
>>> 1 > 1
False
>>> 1 >= 1
True
>>> a = 1
>>> b = 2
>>> a != b
True
>>> 'a' > 'b'
False
>>> ord('a')
97
>>> ord('b')
98
>>> 'abc' < 'abd'
True
>>> ord('abc')
Traceback (most recent call last):
  File "<pyshell#35>", line 1, in <module>
    ord('abc')
TypeError: ord() expected a character, but string of length 3 found
>>> [1,2,3] < [2,3,4]
True
>>> [3,1,2] < [4,1,1]
True
>>> [1,10,100] < [2,1,1]
True
>>> (1,2,3) < (1,3,2)
True
</code></pre></p>

<h3>逻辑运算符</h3>
<p>and（且）、or（或）、not（非）。操作类型和结果都是bool类型。</p>
<p><strong>and、or当它可以得到结果，就不会进行下一个bool的运算，来提高性能。类似java的&& || 。</strong></p>
<p><pre><code>
>>> 1 and 1
1
>>> 'a' and 'b'
'b'
>>> 'a' or 'b'
'a'
>>> not 'a'
False
</code></pre></p>

<p>int float 0 被认为是False，非0表示True。空字符串被认为False。空的列表、元组、集合、字典被认为False。</p>
<pre><code>>>> not 0.1
False
>>> not ''
True
>>> not 0
True
>>> not '0'
False
>>> not []
True
>>> not (1,2)
False</code></pre>


<h3>成员运算符</h3>
<p>in 、 not in。用来判断一个元素是否在另外一组元素中。返回值是bool值。</p>
<pre><code>>>> a = 1
>>> a in [1,2,3]
True
>>> b = 6
>>> b in [1,2,3]
False
>>> b not in [1,2,3]
True
>>> b = 'h'
>>> b in 'hello'
True</code></pre>
<p>对于dict字典验证的是key，是否在。</p>
<pre><code>>>> b = 'a'
>>> b in {'c':1}
False
>>> b = 1
>>> b in {'c':1}
False
>>> b = 'c'
>>> b in {'c':1}
True</code></pre>

<h3>身份运算符</h3>
<p>is、 is not，返回结果，bool值</p>
<p>is 比较的是两个变量的身份是否相等。</p>
<pre><code>>>> a = 1
>>> b = 1
>>> a is b
True
>>> a == b
True
>>> a = 1
>>> b = 1.0
>>> a == b
True
>>> a is b
False
>>> id(a)
8791303984800
>>> id(b)
40849136</code></pre>

<p>set集合是无需的，==比较的是值是否相等。tuple元组是有序的。is比较的是身份是否相等。</p>
<pre><code>>>> a = {1,2,3}
>>> b = {2,1,3}
>>> a == b
True
>>> a is b
False
>>> c = (1,2,3)
>>> d = (2,1,3)
>>> c == d
False
>>> c is d
False</code></pre>

<p><strong>如何判断变量的值、身份与类型？</strong></p>
<pre><code>>>> a = 'hello'
>>> isinstance(a, str)
True
>>> isinstance(a, int)
False
>>> isinstance(a, (int, str, float))
True
>>> isinstance(a, (int,float))
False</code></pre>

<h3>位运算符</h3>
<p>& 按位与、| 按位或、^ 按位异或、~ 按位取反、&lt;&lt; 左移动、>> 右移动</p>
<p>把数字当作二进制数进行运算。</p>

<p>& 按位与</p>
<pre><code>>>> a = 2
>>> b = 3
>>> a & b
2
>>> 0b10
2
>>> 0b11
3</code></pre>

<p>| 按位或</p>
<pre><code>>>> a | b
3</code></pre>