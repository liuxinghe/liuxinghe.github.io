---
layout: post
title:  "ubuntu20.04安装mysql5.7.30"
keywords: "ubuntu,安装maysql"
description: "ubuntu20.04安装任意版本的MySQL"
date: 2020-07-18
category: linux
---

<p>安装MySQL5.7.30（或任意版本）时，需要去MySQL官网下载deb包。</p>
<p>网址： <a target="_blank" href="http://repo.mysql.com/apt/ubuntu/pool/mysql-5.7/m/mysql-community/"></a>http://repo.mysql.com/apt/ubuntu/pool/mysql-5.7/m/mysql-community/</p>

<p>MySQL5.7.30需要使用的包为：</p>
<ul>
	<li>mysql-client_5.7.30-1ubuntu16.04_amd64.deb</li>
	<li>mysql-common_5.7.30-1ubuntu18.04_amd64.deb</li>
	<li>mysql-community-client_5.7.30-1ubuntu16.04_amd64.deb</li>
	<li>mysql-community-server_5.7.30-1ubuntu16.04_amd64.deb</li>
</ul>
<p>安装依赖的包为：</p>
<ul>
	<li>libmecab2_0.996-10build1_amd64.deb</li>
	<li>libtinfo5_6.2-0ubuntu2_amd64.deb</li>
</ul>

<p>必须安装下面的安装顺序，依次安装。</p>
<p>1、安装mysql-common_***（***代表版本号），输入</p>
<pre><code>dpkg -i mysql-common_5.7.30-1ubuntu18.04_amd64.deb</code></pre>
<p>输出信息</p>
<pre>Selecting previously unselected package mysql-common.
(Reading database ... 111680 files and directories currently installed.)
Preparing to unpack mysql-common_5.7.30-1ubuntu18.04_amd64.deb ...
Unpacking mysql-common (5.7.30-1ubuntu18.04) ...
Setting up mysql-common (5.7.30-1ubuntu18.04) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode</pre>

<p>2、安装mysql-community-client_***的依赖，输入</p>
<pre><code>dpkg -i libtinfo5_6.2-0ubuntu2_amd64.deb</code></pre>

<p>3、安装mysql-community-client_***，输入</p>
<pre><code>dpkg -i mysql-community-client_5.7.30-1ubuntu16.04_amd64.deb</code></pre>
<p>输出信息</p>
<pre>Selecting previously unselected package mysql-community-client.
(Reading database ... 111695 files and directories currently installed.)
Preparing to unpack mysql-community-client_5.7.30-1ubuntu16.04_amd64.deb ...
Unpacking mysql-community-client (5.7.30-1ubuntu16.04) ...
Setting up mysql-community-client (5.7.30-1ubuntu16.04) ...
Processing triggers for man-db (2.9.1-1) ...
root@sszj:/home/sszj# dpkg -i mysql-client_5.7.30-1ubuntu16.04_amd64.deb 
Selecting previously unselected package mysql-client.
(Reading database ... 111752 files and directories currently installed.)
Preparing to unpack mysql-client_5.7.30-1ubuntu16.04_amd64.deb ...
Unpacking mysql-client (5.7.30-1ubuntu16.04) ...
Setting up mysql-client (5.7.30-1ubuntu16.04) ...</pre>

<p>4、安装mysql-community-server_***的依赖，输入</p>
<pre><code>dpkg -i libmecab2_0.996-10build1_amd64.deb</code></pre>
<p>5、安装mysql-community-server_***，输入</p>
<pre><code>dpkg -i mysql-community-server_5.7.30-1ubuntu16.04_amd64.deb</code></pre>
<p>输出信息</p>
<pre>Selecting previously unselected package mysql-community-server.
(Reading database ... 111758 files and directories currently installed.)
Preparing to unpack mysql-community-server_5.7.30-1ubuntu16.04_amd64.deb ...
Unpacking mysql-community-server (5.7.30-1ubuntu16.04) ...
Setting up mysql-community-server (5.7.30-1ubuntu16.04) ...
update-alternatives: using /etc/mysql/mysql.cnf to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Created symlink /etc/systemd/system/multi-user.target.wants/mysql.service → /lib/systemd/system/mysql.service.
Processing triggers for systemd (245.4-4ubuntu3.1) ...
Processing triggers for man-db (2.9.1-1) ...</pre>
<p>同时会让你输入数据库的密码，确认密码。至此，mysql5.7.30安装成功了。</p>

<p>验证：输入<code>mysql -uroot -p</code>，输入密码。</p>
<p>输出结果：</p>
<pre>root@sszj:/home/sszj# mysql -uroot -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.30 MySQL Community Server (GPL)

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql></pre>
